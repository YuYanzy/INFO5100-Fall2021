<!DOCTYPE html>
<html>
<head>
    <title>Yu Zhang's HW3</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <h1 > INFO5100 HW3</h1>
    <h3 style="color:blue"> Yu Zhang  yz2729 </h3>
    <HR color=#987cb9 SIZE=2>

    <p id="p1">
        <span style="font-weight:bold; font-size:20px"> Problem 1: </span><br/>
        <script> 
            // select the svg element, I give the svg a border to make the center effect of text more clear
            let svg1 = d3.select("#p1").append("svg").attr("width", "300").attr("height", "300").style("border", "1px solid black")

            // append the text element
            svg1.append("text").text("INFO3300").attr("x", 150).attr("y", 150).attr("text-anchor", 
            "middle").style("font-size", "20px").style("font-family", "Verdana").style("color", "black")

            // append the circle element
            svg1.append("circle").attr("cx", 150).attr("cy", 150).attr("r", 4).style("fill", "lightpink").style("stroke-width", "0")

            // append three rectangle element
            svg1.append("rect").attr("x", "120").attr("y", "100").attr("width", "30").attr("height", "30").style("fill", "red").style("stroke-width", "2").style("stroke", "black")
            svg1.append("rect").attr("x", "45").attr("y", "120").attr("width", "50").attr("height", "50").style("fill", "yellow").style("stroke-width", "2").style("stroke", "blue")
            svg1.append("rect").attr("x", "205").attr("y", "130").attr("width", "40").attr("height", "40").style("fill", "green").style("stroke-width", "2").style("stroke", "purple")
        </script>

    </p>
    <HR color=#987cb9 SIZE=2>

    <p id="p2">
        <span style="font-weight:bold; font-size:20px"> Problem 2: </span><br/>
        <br/>

        <script> 
            // the point data
            data = [{"x":1.0 ,"y":9.0},
                    {"x":1.5 ,"y":6.0},
                    {"x":2.5 ,"y":4.0},
                    {"x":4.0 ,"y":2.0},
                    {"x":5.0 ,"y":1.6},
                    {"x":6.0 ,"y":2.4},
                    {"x":7.0 ,"y":3.0},
                    {"x":8.0 ,"y":3.4},
                    {"x":9.0 ,"y":3.6}]

            // select the svg element and give it a 1 px light gray border
            let svg2 = d3.select("#p2").append("svg").attr("width", "360").attr("height", "360").style("border", "1px solid lightgray")

            // append the main plot region
            svg2.append("rect").attr("x", "20").attr("y", "20").attr("width", "320").attr("height", "320").style("fill", "white").style("stroke-width", "1").style("stroke", "gray")

            // scale function for points
            let xScale = d3.scaleLinear().domain([0,10]).range([20,340])
            let yScale = d3.scaleLinear().domain([0,10]).range([340,20])

            // create the horizontal grid lines
            let grid_group = svg2.append("g").attr("stroke", "gray").attr("stroke-width", "2")
            for(let i = 1; i <= 9; i++){
                const path = d3.path()
                path.moveTo(xScale(0),yScale(i))
                path.lineTo(xScale(10),yScale(i))
                grid_group.append("path").attr("d", path)
            }

            // create the vertical grid lines 
            for(let i = 1; i <= 9; i++){
                const path = d3.path()
                path.moveTo(xScale(i),yScale(0))
                path.lineTo(xScale(i),yScale(10))
                grid_group.append("path").attr("d", path)
            }

            // append the lable of y axis
            lables =[0, 5, 10]
            let text_group_y = svg2.append("g").attr("text-anchor", "end").style("font-family", "Arial").style("color", "black")
            for(number of lables){
                text_group_y.append("text").text(number).attr("x", xScale(0) - 5).attr("y", yScale(number) + 5)
            }

            // append the lable of x axis
            let text_group_x = svg2.append("g").attr("text-anchor", "start").attr("dominant-baseline", "hanging").style("font-family", "Arial").style("color", "black")
            for(number of lables){
                text_group_x.append("text").text(number).attr("x", xScale(number) - 5).attr("y", yScale(0) + 5)
            }

            // create the circles
            let circles_group = svg2.append("g").attr("fill", "darkblue")
            data.forEach( ({x, y}) => {
                circles_group.append("circle").attr("cx", xScale(x)).attr("cy", yScale(y)).attr("r", 10)
            })
        </script>

    </p>
    <HR color=#987cb9 SIZE=2>

    <div id="p3">
        <span style="font-weight:bold; font-size:20px"> Problem 3: </span><br/>
        <span style="font-size: 15"> (I have the red-green color blindness and try to answer questions with help of my friend.)</span>
        <br/>

        <ul>
            <li> A: Sequential. I think this is  an effective color scale as it has limited color hue which is very easy to distinguish.</li>

            <li> B: I think this is an not effective color scale. Firstly, as the data is numerical and range from -1 to 1, the proper color scale should divergent but this color scale is sequential. Moreover, the color of negative numbers and positive numbers which are close to 0 is hard to distinguish in this scale.</li> 

            <li> C: After uploaded the picture file in ZIP to <a href="http://www.color-blindness.com/coblis-color-blindness-simulator/">Coblis</a>, I find that two kinds of color blindness will cause a loss of perceivable hue variation. One is <b> Blue-Bind/Tritanopia</b> which will make the picture have only blue color. The another one is <b> Monochromacy/Achromatopsia</b> which will make the picture have only gray color.</li>
            
            <li> D: I will not recommand as the color distribution of this rainbow color scale is uneven. The green color takes up most of the area, while the darker part on the left transitions quickly and is not clearly distinguishable. So, I believe that this color distribution is not proper for the numerical data. What's more, I think the color slected by this rainbow color scale may not present a very good visual effect when they are printed on the map. </li>
            
        </ul>
    </div>
</body>
</html>
